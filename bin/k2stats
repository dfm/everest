#!/usr/bin/env python
# -*- coding: utf-8 -*-
'''
k2stats
-------

'''

import argparse

if __name__ == '__main__':

  parser = argparse.ArgumentParser(prog = 'estats', add_help = True)
  parser.add_argument("campaign", nargs = '?', type = str, default = None, help = 'The K2 campaign to download')
  parser.add_argument("model", nargs = '?', type = str, default = None, help = 'The everest model to analyze')
  parser.add_argument("compare_to", nargs = '?', type = str, default = None, help = 'The model to compare to; ``-i`` for injection stats')
  args = parser.parse_args()
  
  # Get the campaign number
  if args.campaign is not None:
    if '.' in args.campaign:
      campaign = float(args.campaign)
    else:
      campaign = int(args.campaign)
  else:
    campaign = None
  
  # Injection run?
  if args.compare_to == '-i' or args.compare_to == '--inject':
    args.compare_to = None
    injection = True
  else:
    injection = False
  
  import pdb; pdb.set_trace()
  
  # Call the stats function
  if campaign is not None:
    if args.model is not None:
      if args.compare_to is not None:
        Statistics(campaign = campaign, model = args.model, compare_to = args.compare_to, injection = injection)
      else:
        Statistics(campaign = campaign, model = args.model, injection = injection)
    else:
      if args.compare_to is not None:
        Statistics(campaign = campaign, compare_to = args.compare_to, injection = injection)
      else:
        Statistics(campaign = campaign, injection = injection)
  else:
    if args.model is not None:
      if args.compare_to is not None:
        Statistics(model = args.model, compare_to = args.compare_to, injection = injection)
      else:
        Statistics(model = args.model, injection = injection)
    else:
      if args.compare_to is not None:
        Statistics(compare_to = args.compare_to, injection = injection)
      else:
        Statistics()